<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width,initial-scale=1.0" />
<title>Death Predictor</title>

<style>
:root{
  --primary:#333;
  --accent:#0066cc;
  --bg:#f5f7fa;
  --card:#ffffff;
  --radius:12px;
  --dur:3s;
}

/* ---------- BASIC PAGE ---------- */
body{
  margin:0;
  font-family:system-ui,Arial,sans-serif;
  background:var(--bg);
  color:#222;
  display:flex;
  flex-direction:column;
  align-items:center;
  padding:30px 10px;
}
h1{margin-bottom:20px;font-weight:700;}

/* ---------- CARD FORM ---------- */
.form-card{
  background:var(--card);
  border-radius:var(--radius);
  box-shadow:0 8px 24px rgb(0 0 0 /.12);
  padding:25px 30px;
  max-width:380px;
  width:100%;
}
.form-group{
  position:relative;
  margin:18px 0;
}
.form-group input,
.form-group select{
  width:100%;
  padding:11px 12px 11px 12px;
  border:2px solid #ccc;
  border-radius:6px;
  font-size:15px;
  background:#fff;
  transition:border .2s;
}
.form-group label{
  position:absolute;
  top:50%;
  left:12px;
  transform:translateY(-50%);
  color:#666;
  font-size:14px;
  pointer-events:none;
  transition:.25s;
}
.form-group input:focus,
.form-group select:focus{border-color:var(--accent);}
.form-group input:focus+label,
.form-group input:not(:placeholder-shown)+label,
.form-group select:focus+label,
.form-group select:not([value=""])+label{
  top:-9px;
  background:var(--card);
  padding:0 4px;
  font-size:12px;
  color:var(--accent);
}
button{
  width:100%;
  padding:12px;
  border:none;
  border-radius:6px;
  background:var(--primary);
  color:#fff;
  font-size:16px;
  cursor:pointer;
  transition:.25s;
}
button:hover{background:#555;}

/* ---------- PROGRESS ---------- */
#progressWrap{
  margin:22px 0 10px;
  width:100%;
  height:12px;
  background:#ddd;
  border-radius:6px;
  overflow:hidden;
}
#progressBar{
  height:100%;
  width:0%;
  background:linear-gradient(90deg,#4caf50,#8bc34a);
  transition:width 1s;
}
#result{font-weight:600;margin-top:6px;}

/* ---------- STAGE ---------- */
#stage{
  position:relative;
  width:900px;
  max-width:95vw;
  height:320px;
  margin-top:40px;
  border:3px solid #8b4513;
  border-radius:var(--radius);
  background:linear-gradient(#8ed0ff 55%,#9fe49f 55%);
  overflow:hidden;
}

/* clouds */
.cloud{
  position:absolute;
  top:40px;
  width:120px;height:50px;
  background:#fff;
  border-radius:50px;
  opacity:.8;
  filter:drop-shadow(0 0 10px #fff);
  animation:cloudMove 45s linear infinite;
}
.cloud::after,.cloud::before{
  content:'';
  position:absolute;
  background:#fff;
  width:70%;height:70%;
  border-radius:50%;
}
.cloud::before{top:-20px;left:10px;}
.cloud::after {top:-10px;right:12px;}
.cloud:nth-child(1){animation-duration:50s;top:60px;}
.cloud:nth-child(2){animation-duration:60s;top:90px;animation-delay:-15s;}

@keyframes cloudMove{
  from{transform:translateX(-150%);}
  to  {transform:translateX(150%);}
}

/* path */
#path{
  position:absolute;
  bottom:74px;left:0;right:0;
  height:6px;
  background:#7d5a3c;
}

/* person */
#person{
  position:absolute;
  bottom:80px;left:50px;
  width:60px;height:120px;
  transition:all var(--dur) ease-in-out;
  z-index:10;
}
.person-emoji{font-size:60px;display:block;transition:all 2s;}
@keyframes walk{0%,100%{transform:translateY(0);}50%{transform:translateY(-6px);}}
.walking{animation:walk .6s infinite;}

/* coffin & lid */
#coffin{
  position:absolute;bottom:80px;right:130px;
  width:180px;height:86px;
  background:linear-gradient(145deg,#4a4a4a,#2c2c2c);
  border:3px solid #1a1a1a;
  border-radius:22px 22px 10px 10px;
  box-shadow:0 8px 18px rgba(0,0,0,.55);
  perspective:800px;
}
#lid{
  position:absolute;
  top:-10px;left:-6px;right:-6px;height:34px;
  background:linear-gradient(145deg,#5a5a5a,#3c3c3c);
  border:2px solid #1a1a1a;border-radius:26px 26px 6px 6px;
  transform-origin:top center;
  transition:transform 2s ease-in-out;
}
#coffin.close #lid{transform:rotateX(50deg);}

.coffin-cross{
  position:absolute;top:20px;left:50%;
  transform:translateX(-50%);
  color:#aaa;font-size:22px;
}

/* flowers & headstone */
.flowers,.headstone{opacity:0;transition:opacity 2s;}
.flowers{
  position:absolute;bottom:65px;left:25%;
  font-size:26px;
}
.headstone{
  position:absolute;bottom:125px;right:70px;
  width:46px;height:68px;background:#666;
  border-radius:23px 23px 0 0;
  display:flex;align-items:center;justify-content:center;
  font-size:22px;
}

/* lying & fade */
@keyframes lieDown{
  0%{transform:rotate(0) scale(1);}
  50%{transform:rotate(45deg) scale(.9);}
  100%{transform:rotate(90deg) scale(.8) translateY(26px);}
}
.lying{animation:lieDown 2s forwards;}
@keyframes fadeOut{to{opacity:.25;}}
.fading{animation:fadeOut 2s forwards;}
</style>
</head>

<body>
  <h1>üíÄ Death Predictor</h1>

  <form id="lifeForm" class="form-card" novalidate>
    <div class="form-group">
      <input id="name" type="text" placeholder=" " required>
      <label for="name">Name</label>
    </div>

    <div class="form-group">
      <input id="age" type="number" min="1" placeholder=" " required>
      <label for="age">Current Age</label>
    </div>

    <div class="form-group">
      <select id="gender" required>
        <option value="" disabled selected hidden></option>
        <option value="male">Male</option>
        <option value="female">Female</option>
        <option value="other">Other / Prefer not to say</option>
      </select>
      <label for="gender">Gender</label>
    </div>

    <div class="form-group">
      <select id="diet" required>
        <option value="" disabled selected hidden></option>
        <option value="plant">Whole-food Plant-based / Vegan</option>
        <option value="med">Mediterranean / Balanced</option>
        <option value="lowcarb">Low-carb / High-protein</option>
        <option value="average">Typical Mixed</option>
        <option value="junk">Mostly Processed / Fast food</option>
      </select>
      <label for="diet">Diet Pattern</label>
    </div>

    <div class="form-group">
      <select id="smoke" required>
        <option value="" disabled selected hidden></option>
        <option value="no">Non-smoker</option>
        <option value="occasional">Occasional</option>
        <option value="yes">Daily Smoker</option>
      </select>
      <label for="smoke">Smoking</label>
    </div>

    <div class="form-group">
      <select id="alcohol" required>
        <option value="" disabled selected hidden></option>
        <option value="none">None</option>
        <option value="light">1‚Äì7 drinks/week</option>
        <option value="moderate">8‚Äì14 drinks/week</option>
        <option value="heavy">15+ drinks/week</option>
      </select>
      <label for="alcohol">Alcohol Use</label>
    </div>

    <div class="form-group">
      <select id="exercise" required>
        <option value="" disabled selected hidden></option>
        <option value="regular">150 min+/week</option>
        <option value="sometimes">1-2√ó/week</option>
        <option value="never">Rarely / Never</option>
      </select>
      <label for="exercise">Exercise</label>
    </div>

    <div class="form-group">
      <input id="sleep" type="number" min="3" max="12" placeholder=" " required>
      <label for="sleep">Average Sleep (h/night)</label>
    </div>

    <div class="form-group">
      <input id="stress" type="range" min="0" max="10" value="5">
      <label for="stress">Stress Level (0 low ‚Äì 10 high)</label>
    </div>

    <div class="form-group">
      <input id="dob" type="date" placeholder=" ">
      <label for="dob">Birth Date (optional)</label>
    </div>

    <button type="submit">Predict my Fate</button>

    <div id="progressWrap"><div id="progressBar"></div></div>
    <div id="result"></div>
  </form>

  <!-- ------------- SCENE ------------- -->
  <div id="stage">
    <div class="cloud"></div>
    <div class="cloud"></div>
    <div id="path"></div>

    <div id="person"><span class="person-emoji">üö∂‚Äç‚ôÇÔ∏è</span></div>

    <div id="coffin">
      <div id="lid"></div>
      <div class="coffin-cross">‚úü</div>
    </div>

    <div class="flowers">üåπüåªüåπ</div>
    <div class="headstone">ü™¶</div>
  </div>

<script>
/* ---------- ELEMENTS ---------- */
const form        = document.getElementById('lifeForm');
const resultEl    = document.getElementById('result');
const progressBar = document.getElementById('progressBar');
const person      = document.getElementById('person');
const personEmoji = document.querySelector('.person-emoji');
const flowers     = document.querySelector('.flowers');
const headstone   = document.querySelector('.headstone');
const coffin      = document.getElementById('coffin');
const lid         = document.getElementById('lid');

/* ---------- FACTOR TABLES ---------- */
const dietF   = {plant:+7, med:+5, lowcarb:+2, average:0, junk:-10};
const exerF   = {regular:+5, sometimes:+1, never:-5};
const smokeF  = {no:+4, occasional:-2, yes:-12};
const alcoholF= {none:+2, light:0, moderate:-2, heavy:-6};
const sleepF  = (h)=> (h>=7 && h<=8)?2 : (h<5 || h>10)?-4 : 0;
const stressF = (s)=> -s*0.6;
const genderF = {male:-3, female:+3, other:0};

/* ---------- MAIN ---------- */
form.addEventListener('submit',e=>{
  e.preventDefault();

  /* inputs */
  const name   = document.getElementById('name').value.trim()||'User';
  const age    = +document.getElementById('age').value;
  const diet   = document.getElementById('diet').value;
  const exer   = document.getElementById('exercise').value;
  const smoke  = document.getElementById('smoke').value;
  const alc    = document.getElementById('alcohol').value;
  const sleep  = +document.getElementById('sleep').value;
  const stress = +document.getElementById('stress').value;
  const gender = document.getElementById('gender').value;

  /* reset visual state */
  person.style.left='50px';
  person.style.transform='none';
  personEmoji.className='person-emoji';
  personEmoji.textContent='üö∂‚Äç‚ôÇÔ∏è';
  flowers.style.opacity=0;
  headstone.style.opacity=0;
  coffin.classList.remove('close');
  person.style.opacity=1;

  /* expectancy model */
  let expectancy = 80;
  expectancy += dietF[diet]     ??0;
  expectancy += exerF[exer]     ??0;
  expectancy += smokeF[smoke]   ??0;
  expectancy += alcoholF[alc]   ??0;
  expectancy += sleepF(sleep);
  expectancy += stressF(stress);
  expectancy += genderF[gender] ??0;

  expectancy = Math.max(expectancy, age+1); /* prevent negative */

  const daysLeft = Math.max(0,(expectancy-age)*365);
  const progress = Math.min(1, age/expectancy);

  /* UI feedback */
  progressBar.style.width = (progress*100).toFixed(1)+'%';
  resultEl.innerHTML =
    `üßÆ <strong>${name}</strong>, you may reach <b>${expectancy.toFixed(1)} yrs</b><br>`+
    `‚è≥ ~<b>${Math.round(daysLeft).toLocaleString()}</b> days left`;

  /* ---------- ANIMATION ---------- */
  const travelPx = 650 * progress; /* distance person walks */

  personEmoji.classList.add('walking');
  setTimeout(()=>{ person.style.left = 50+travelPx+'px'; },50);

  /* after walk */
  setTimeout(()=>{
    personEmoji.classList.remove('walking');

    if(daysLeft<2000){          /* nearing death */
      personEmoji.textContent='üòµ';
      personEmoji.classList.add('lying');

      /* lid closes, flowers/headstone appear */
      setTimeout(()=>{
        coffin.classList.add('close');
        flowers.style.opacity=1;
        headstone.style.opacity=1;
        personEmoji.classList.add('fading');
      },2000);
    }else{                      /* still alive */
      personEmoji.textContent='üßç‚Äç‚ôÇÔ∏è';
    }
  },3000); /* matches CSS --dur */
});
</script>
</body>
</html>
